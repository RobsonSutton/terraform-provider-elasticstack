---
subcategory: "Logstash"
layout: ""
page_title: "Elasticstack: elasticstack_elasticsearch_logstash_pipeline Resource"
description: |-
  Creates or updates centrally managed logstash pipelines.
---

# Resource: elasticstack_elasticsearch_logstash_pipeline

Creates or updates centrally managed logstash pipelines. See: https://www.elastic.co/guide/en/elasticsearch/reference/current/logstash-apis.html

## Example Usage

```terraform
provider "elasticstack" {
  elasticsearch {}
}

resource "elasticstack_elasticsearch_logstash_pipeline" "example" {
  pipeline_id = "test_pipeline"
  description = "This is an example pipeline"

  pipeline = <<-EOF
  input{}
  filter{}
  output{}
EOF

  pipeline_metadata = {
    "type"    = "logstash_pipeline"
    "version" = 1
  }

  pipeline_settings = {
    "pipeline.workers"        = 2
    "pipeline.batch.size"     = 250
    "pipeline.batch.delay"    = 100
    "queue.type"              = "persisted"
    "queue.max_bytes.number"  = 2
    "queue.max_bytes.units"   = "mb"
    "queue.checkpoint.writes" = 2048
  }
}

output "pipeline" {
  value = elasticstack_elasticsearch_logstash_pipeline.example.pipeline_id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **pipeline** (String) Configuration for the pipeline.
- **pipeline_id** (String) Identifier for the pipeline.

### Optional

- **description** (String) Description of the pipeline.
- **elasticsearch_connection** (Block List, Max: 1) Used to establish connection to Elasticsearch server. Overrides environment variables if present. (see [below for nested schema](#nestedblock--elasticsearch_connection))
- **pipeline_metadata** (Map of String) Optional metadata about the pipeline.
- **pipeline_settings** (Map of String) Settings for the pipeline. Supports only flat keys in dot notation.
- **username** (String) User who last updated the pipeline.

### Read-Only

- **id** (String) Internal identifier of the resource
- **last_modified** (String) Date the pipeline was last updated.

<a id="nestedblock--elasticsearch_connection"></a>
### Nested Schema for `elasticsearch_connection`

Optional:

- **api_key** (String, Sensitive) API Key to use for authentication to Elasticsearch
- **ca_data** (String) PEM-encoded custom Certificate Authority certificate
- **ca_file** (String) Path to a custom Certificate Authority certificate
- **endpoints** (List of String, Sensitive) A list of endpoints the Terraform provider will point to. They must include the http(s) schema and port number.
- **insecure** (Boolean) Disable TLS certificate validation
- **password** (String, Sensitive) A password to use for API authentication to Elasticsearch.
- **username** (String) A username to use for API authentication to Elasticsearch.

## Import

Import is supported using the following syntax:

```shell
terraform import elasticstack_elasticsearch_security_logstash_pipeline.my_pipeline <cluster_uuid>/<pipeline ID>
```
